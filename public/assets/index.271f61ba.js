var y=Object.defineProperty;var m=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var d=(a,u,t)=>u in a?y(a,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[u]=t,E=(a,u)=>{for(var t in u||(u={}))h.call(u,t)&&d(a,t,u[t]);if(m)for(var t of m(u))g.call(u,t)&&d(a,t,u[t]);return a};import{R as e,r as f,a as N}from"./vendor.ea656ce4.js";const _=function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}};_();const p="http://localhost:9977/api";async function B(a,u,t="47_19"){const[c,o]=t.split("_");a.length>250&&(alert("\u0414\u043B\u0438\u043D\u0430 \u0442\u0435\u043A\u0441\u0442 \u043D\u0435 \u0434\u043E\u043B\u0436\u043D\u0430 \u043F\u0440\u0435\u0432\u044B\u0448\u0430\u0442\u044C 250 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432. \u0423 \u0412\u0430\u0441 "+a.length),a=a.substring(0,250));const n=new FormData;n.set("text",a),n.set("voice",c),n.set("model",o);const i=await(await fetch(u+"/getaudio",{method:"POST",body:n})).blob(),s=new FileReader;s.readAsDataURL(i),s.onload=()=>{const l=new Audio;l.src=s.result,l.autoplay=!0}}async function D(a){return await(await fetch(a+"/answers/random")).json()}const b=({id:a,atext:u,complexity:t})=>{const c=t<1?"\u0431\u0430\u043B\u043B\u0430":"\u0431\u0430\u043B\u043B",o=n=>{const r=n.target,i=n.target.dataset.action,s=document.getElementById("voice_type").value;if(i==="speak"){const l=r.dataset.text,v=r.dataset.complexity;console.log(l),B(`\u0421\u043B\u043E\u0436\u043D\u043E\u0441\u0442\u044C: ${v} ${c}. ${l}`,p,s).then(console.log)}};return e.createElement("div",{className:"card QuestionCard",id:"card_"+a,onClick:o},e.createElement("div",{className:"card-content"},e.createElement("div",{className:"content"},u)),e.createElement("footer",{className:"card-footer"},e.createElement("a",{href:"#",className:"card-footer-item"},"\u0421\u043B\u043E\u0436\u043D\u043E\u0441\u0442\u044C: ",t," ",c," "),e.createElement("a",{href:"#",className:"card-footer-item","data-action":"speak","data-text":u,"data-complexity":t},"\u041E\u0437\u0432\u0443\u0447\u0438\u0442\u044C")))},C={background:"black",color:"white",position:"sticky",top:0,zIndex:100};function w(){const[a,u]=f.exports.useState([]);return f.exports.useEffect(()=>{D(p).then(t=>u(t))},[]),e.createElement(e.Fragment,null,e.createElement("section",{className:"section py-4",style:C},e.createElement("div",{className:"container is-fullhd"},e.createElement("h1",{className:"title has-text-light is-size-4 has-text-centered"},"\u0413\u0435\u043D\u0435\u0440\u0430\u0442\u043E\u0440 \u0432\u043E\u043F\u0440\u043E\u0441\u043E\u0432"))),e.createElement("section",{className:"section py-1"},e.createElement("div",{className:"select"},e.createElement("select",{id:"voice_type"},e.createElement("option",{value:"51_14"},"\u0415\u043B\u0435\u043D\u0430"),e.createElement("option",{value:"132_55"},"\u0414\u0435\u0434 \u041C\u043E\u0440\u043E\u0437"),e.createElement("option",{value:"8_12"},"\u0422\u0430\u0442\u044C\u044F\u043D\u0430"),e.createElement("option",{value:"47_19"},"\u0412\u0430\u043B\u0435\u0440\u0438\u0439"),e.createElement("option",{value:"48_13"},"\u0410\u043D\u0434\u0440\u0435\u0439"),e.createElement("option",{value:"70_54"},"\u0414\u0435\u0432\u043E\u0447\u043A\u0430"),e.createElement("option",{value:"49_18"},"\u0421\u0430\u0432\u0435\u043B\u0438\u0439"),e.createElement("option",{value:"126_59"},"\u041B\u0435\u043D\u0438\u043D"),e.createElement("option",{value:"15_17"},"\u0420\u043E\u043C\u0430\u043D")))),e.createElement("section",{className:"section"},e.createElement("div",{className:"container is-fullhd"},e.createElement("div",{className:"columns is-multiline"},a.map(t=>e.createElement("div",{className:"column is-4",key:t.id},e.createElement(b,E({},t))))))))}N.render(e.createElement(e.StrictMode,null,e.createElement(w,null)),document.getElementById("root"));
